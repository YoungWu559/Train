<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-34711826-1', 'auto');
  ga('send', 'pageview');
</script>
<script src="YJS.js?0.3612099106553631" type="module" defer></script>
<script src="CS540.js?0.35890497980293534" type="module" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
<script src="https://unpkg.com/mathjs@6.1.0/dist/math.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<title>Young Wu's Homepage</title>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="style540.css" type="text/css">
</head>
<body>
<div id="masthead">
<h1 id="siteName">CS540 Summer 2021</h1>
</div> 
<div id="content">

<script type="module"> import {m8s21} from "./CS540.js"; m8s21() </script> <br>
Prev: <a href="CS540S21M7.htm">M7</a> Next: <a href="CS540S21M9.htm">M9</a> <br>
Back to week 5 page: <a href="CS540S21W5.htm">Link</a> <br>
<br>
<br>
<h2>M8 Written (Math) Problems</h2>
&bull; Enter your ID (the wisc email ID without @wisc.edu) here: <input type="text" id="id" value="" size="20"> and click <button id="button_0">Confirm</button> (or hit enter key) <span hidden id="questions">1,2,3,4,5,6,7,8,9,10</span> <span hidden id="assignment">m8</span> <br>
&bull; The official deadline is July 25, but you can submit or resubmit without penalty until August 10. <br>
&bull; The same ID should generate the same set of questions. Your answers are not saved when you close the browser. You could print the page: <button id="button_1">Print</button>, solve the problems, then enter all your answers at the end. <br>
&bull; Please do not refresh the page: your answers will not be saved. <br>
&bull; Please report any bugs on Piazza. <br>
<br>
<h2><span id="id_warning"><font color="red"> Warning: please enter your ID before you start! </font></span></h2>
<br>
<h2>Question 1</h2>
<span id="p1"></span> <br>
<br>
<h2>Question 2</h2>
<span id="p2"></span> <br>
<br>
<h2>Question 3</h2>
<span id="p3"></span> <br>
<br>
<h2>Question 4</h2>
<span id="p4"></span> <br>
<br>
<h2>Question 5</h2>
<span id="p5"></span> <br>
<br>
<h2>Question 6</h2>
<span id="p6"></span> <br>
<br>
<h2>Question 7</h2>
<span id="p7"></span> <br>
<br>
<h2>Question 8</h2>
<span id="p8"></span> <br>
<br>
<h2>Question 9</h2>
<span id="p9"></span> <br>
<br>
<h2>Question 10</h2>
<span id="p10"></span> <br>
<br>
<div id="q1">
&bull; [<span id="total_1">2</span> points] You performed PCA in \(\mathbb{R}^{3}\). If the first principal component is \(v_{1}\) = <span id="v1_1"></span> and the second principal component is \(v_{2}\) = <span id="v2_1"></span>. What is the new 2D coordinates for the point \(x\) = <span id="x_1"></span>? <br>
<details>
<summary>Hint</summary>
See Fall 2018 Midterm Q13, Fall 2017 Final Q10. Coordinate \(i\) is given by the projection of \(x\) onto the principal component \(v_{i}\). If the principal component is a unit vector \(u_{i}\), use the simplified formula: \(u_{i}^{T} x\); otherwise, use the formula: \(\dfrac{v_{i}^{T} x}{v_{i}^{T} v_{i}}\). <br>
</details>
&bull; Answer (comma separated vector): <input type="text" id="answer_1" value="" size="20">. <button id="button_2">Calculate</button> <span id="calc_1"></span> <br>
</div>
<div id="q2">
&bull; [<span id="total_2">3</span> points] Let \(x\) = <span id="x_2"></span> and \(v\) = <span id="v_2"></span>. The projection of \(x\) onto \(v\) is the point \(y\) on the direction of \(v\) such that the line connecting \(x, y\) is perpendicular to \(v\). Compute \(y\): <br>
<details>
<summary>Hint</summary>
See Fall 2018 Midterm Q14. To compute the projection: if \(v\) is a unit vector \(\left\|v\right\| = 1\), use the simplified formula: \(v^{T} x v\); otherwise, use the formula: \(\dfrac{v^{T} x}{v^{T} v} v\). <br>
</details>
&bull; Answer (comma separated vector): <input type="text" id="answer_2" value="" size="20">. <button id="button_3">Calculate</button> <span id="calc_2"></span> <br>
</div>
<div id="q3">
&bull; [<span id="total_3">3</span> points] Perform k-means clustering on six points: \(x_{1}\) = <span id="p1_3"></span>, \(x_{2}\) = <span id="p2_3"></span>, \(x_{3}\) = <span id="p3_3"></span>, \(x_{4}\) = <span id="p4_3"></span>, \(x_{5}\) = <span id="p5_3"></span>, \(x_{6}\) = <span id="p6_3"></span>. Initially the cluster centers are at \(c_{1}\) = <span id="c1_3"></span>, \(c_{2}\) = <span id="c2_3"></span>. Run k-means for one iteration (assign the points, update center once and reassign the points once). Break ties in distances by putting the point in the cluster with the smaller index (i.e. favor cluster 1). What is the reduction in total distortion? Use Euclidean distance and calculate the total distortion by summing the squares of the individual distances to the center. <br>
<details>
<summary>Hint</summary>
See Spring 2018 Midterm Q7, Fall 2016 Final Q9, Fall 2014 Midterm Q5, Fall 2012 Final Q3. (1) Find which cluster each \(x_{i}\) belongs to (call it \(k_{i}\)): it's the cluster center that is the closest to the point. (2) Compute the total distortion as \(\displaystyle\sum_{i=1}^{6} \left(x_{i} - c_{k_{i}}\right)^{2}\). (3) Compute the new cluster centers \(c'_{1}, c'_{2}\) as \(c'_{k} = \dfrac{1}{\displaystyle\sum_{k_{i} = k} 1} \displaystyle\sum_{k_{i} = k} x_{i}\). Then repeat (1) and (2). Take the difference between the two distortions. <br>
</details>
&bull; Answer: <input type="text" id="answer_3" value="" size="20">. <button id="button_4">Calculate</button> <span id="calc_3"></span> <br>
</div>
<div id="q4">
&bull; [<span id="total_4">4</span> points] Consider the four points: \(x_{1}\) = <span id="p1_4"></span>, \(x_{2}\) = <span id="p2_4"></span>, \(x_{3}\) = <span id="p3_4"></span>, \(x_{4}\) = <span id="p4_4"></span>. Let there be two initial cluster centers \(c_{1}\) = <span id="c1_4"></span>, \(c_{2}\) = <span id="c2_4"></span>. Use Euclidean distance. Break ties in distances by putting the point in the cluster with the smaller index (i.e. favor cluster 1). Write down the cluster centers after one iteration of k-means, the first cluster center (comma separated vector) on the first line and the second cluster center (comma separated vector) on the second line. <br>
<details>
<summary>Hint</summary>
See Fall 2019 Midterm Q22, Spring 2018 Midterm Q7, Fall 2017 Final Q22, Spring 2017 Midterm Q5, Fall 2014 Final Q20, Fall 2013 Final Q14, Fall 2006 Final Q14, Fall 2005 Final Q14. Find which cluster each \(x_{i}\) belongs to (call it \(k_{i}\)): it's the cluster center that is the closest to the point. Compute the new cluster centers \(c'_{1}, c'_{2}\) as \(c'_{k} = \dfrac{1}{\displaystyle\sum_{k_{i} = k} 1} \displaystyle\sum_{k_{i} = k} x_{i}\). <br>
</details>
&bull; Answer (matrix with multiple lines, each line is a comma separated vector): <textarea id="answer_4" rows="2" cols="20"></textarea>. <button id="button_5">Calculate</button> <span id="calc_4"></span> <br>
</div>
<div id="q5">
&bull; [<span id="total_5">4</span> points] Perform hierarchical clustering with <span id="link_5"></span> linkage in one-dimensional space on the following points: <span id="p1_5"></span>, <span id="p2_5"></span>, <span id="p3_5"></span>, <span id="p4_5"></span>, <span id="p5_5"></span>, <span id="p6_5"></span>. Break ties in distances by first combining the instances with the smallest index (appears earliest in the list). Draw the cluster tree. <br>
&bull; Note: the node \(C_{1}\) should be the first cluster formed, \(C_{2}\) should be the second and so on. All edges to point to the instances (or other clusters) that belong to the cluster. <br>
<details>
<summary>Hint</summary>
See Fall 2019 Midterm Q20, Spring 2018 Midterm Q5, Fall 2017 Final Q17, Fall 2016 Midterm Q10, Fall 2016 Final Q8, Fall 2014 Midterm Q1, Fall 2012 Final Q2, Fall 2010 Final Q12, Fall 2006 Midterm Q4. Start with 6 clusters with one point each. (1) Find the two clusters that are the closest to each other (measure the distance between two clusters by either the smallest pairwise distance of points in the clusters (single linkage) or the largest pairwise distance (complete linkage). Draw edges from a new cluster node \(C_{i}\) to these two existing clusters (or instances). (2) Repeat (1) until all all instances are in one cluster. <br>
</details>
&bull; Answer:&nbsp; <br>
<canvas id="canvas_5" width="500" height="500" style="border:1px solid #000000;"></canvas> <span hidden id="canvas_5_state"> </span> <span hidden id="answer_5"></span> <span hidden id="load_5">graph</span> <br>
<button id="button_6">Pen</button> <button id="button_7">Eraser</button> <button id="button_8">Clear</button> <br>
&bull; Note: to use the eraser, drag it from one node to another to remove the (directed) edge in between. <br>
</div>
<div id="q6">
&bull; [<span id="total_6">4</span> points] Perform hierarchical clustering with <span id="link_6"></span> linkage in one-dimensional space on the following points: <span id="p1_6"></span>, <span id="p2_6"></span>, <span id="p3_6"></span>, <span id="p4_6"></span>, <span id="p5_6"></span>, <span id="p6_6"></span>. Break ties in distances by first combining the instances with the smallest index (appears earliest in the list). Draw the cluster tree. <br>
&bull; Note: the node \(C_{1}\) should be the first cluster formed, \(C_{2}\) should be the second and so on. All edges to point to the instances (or other clusters) that belong to the cluster. <br>
<details>
<summary>Hint</summary>
See Fall 2019 Midterm Q20, Spring 2018 Midterm Q5, Fall 2017 Final Q17, Fall 2016 Midterm Q10, Fall 2016 Final Q8, Fall 2014 Midterm Q1, Fall 2012 Final Q2, Fall 2010 Final Q12, Fall 2006 Midterm Q4. Start with 6 clusters with one point each. (1) Find the two clusters that are the closest to each other (measure the distance between two clusters by either the smallest pairwise distance of points in the clusters (single linkage) or the largest pairwise distance (complete linkage). Draw edges from a new cluster node \(C_{i}\) to these two existing clusters (or instances). (2) Repeat (1) until all all instances are in one cluster. <br>
</details>
&bull; Answer:&nbsp; <br>
<canvas id="canvas_6" width="500" height="500" style="border:1px solid #000000;"></canvas> <span hidden id="canvas_6_state"> </span> <span hidden id="answer_6"></span> <span hidden id="load_6">graph</span> <br>
<button id="button_9">Pen</button> <button id="button_10">Eraser</button> <button id="button_11">Clear</button> <br>
&bull; Note: to use the eraser, drag it from one node to another to remove the (directed) edge in between. <br>
</div>
<div id="q7">
&bull; [<span id="total_7">3</span> points] Consider the 1D data set: \(x_{i} = i\) for \(i\) = <span id="from_7"></span> to <span id="to_7"></span>. To select good initial centers for k-means where \(k\) = <span id="k_7"></span>, let's set \(c_{1}\) = <span id="c1_7"></span>. Then select \(c_{j}\) from the unused points in the data set, so that it is farthest from any already-selected centers \(c_{1}, ..., c_{j-1}\) (i.e. \(c_{j} = \arg\displaystyle\max_{x_{i}} \displaystyle\min\left\{d\left(c_{1}, x_{i}\right), d\left(c_{2}, x_{i}\right), ..., d\left(c_{j-1}, x_{i}\right)\right\}\)). Enter the initial centers (including \(c_{1}\)) in increasing order (from the smallest to the largest). In case of ties, select the smaller number. <br>
<details>
<summary>Hint</summary>
See Fall 2011 Midterm Q2. Use the formula repeatedly: \(c_{j} = \arg\displaystyle\max_{x_{i}} \displaystyle\min\left\{d\left(c_{1}, x_{i}\right), d\left(c_{2}, x_{i}\right), ..., d\left(c_{j-1}, x_{i}\right)\right\}\). <br>
</details>
&bull; Answer (comma separated vector): <input type="text" id="answer_7" value="" size="20">. <br>
</div>
<div id="q8">
&bull; [<span id="total_8">4</span> points] You are given the distance table. Consider the next iteration of hierarchical agglomerative clustering (another name for the hierarchical clustering method we covered in the lectures) using <span id="link_8"></span> linkage. What will the new values be in the resulting distance table corresponding to the four new clusters? If you merge two columns (rows), put the new distances in the column (row) with the smaller index. For example, if you merge columns 2 and 4, the new column 2 should contain the new distances and column 4 should be removed, i.e. the columns and rows should be in the order (1), (2 and 4), (3), (5). <br>
\(d\) = <span id="dist_8"></span> <br>
<details>
<summary>Hint</summary>
See Spring 2017 Midterm Q4. The resulting matrix should have 4 columns and 4 rows. Find the smallest non-zero number in the pair-wise distance matrix, suppose row \(i\) and column \(j\), merge columns \(i\) and \(j\) and rows \(i\) and \(j\) at the same time: for single linkage, take the minimum of the numbers in the two rows and columns; for complete linkage, take the maximum. <br>
</details>
&bull; Answer (matrix with multiple lines, each line is a comma separated vector): <textarea id="answer_8" rows="2" cols="20"></textarea>. <br>
</div>
<div id="q9">
&bull; [<span id="total_9">4</span> points] Suppose K-Means with \(K = 2\) is used to cluster the data set <span id="x_9"></span> and initial cluster centers are \(c_{1}\) = <span id="c1_9"></span> and \(c_{2}\) = \(x\). What is the <span id="bound_9"></span> value of \(x\) if cluster 1 has \(n\) = <span id="n_9"></span> points initially (before updating the cluster centers). Break ties by assigning the point to cluster 2. <br>
<details>
<summary>Hint</summary>
The \(n\) points on the left (or right, depending on the question) should be assigned to cluster 1. The \(n + 1\)-th point (call it \(x_{n + 1}\) from the left (or right) can be equidistant from cluster 1 center and cluster 2 center because if the distances to the clusters are the same, the point is assigned to cluster 2 due to the tie-breaking rule. Therefore, \(x_{n + 1} = \dfrac{1}{2} \left(c_{1} + c_{2}\right)\) can be used to solved for \(c_{2}\). <br>
</details>
&bull; Answer: <input type="text" id="answer_9" value="" size="20">. <button id="button_12">Calculate</button> <span id="calc_9"></span> <br>
</div>
<div id="q10">
&bull; [<span id="total_10">1</span> points] Please enter any comments and suggestions including possible mistakes and bugs with the questions and the auto-grading, and materials relevant to solving the questions that you think are not covered well during the lectures. If you have no comments, please enter "None": do not leave it blank. <br>
&bull; Answer: <textarea id="answer_10" rows="2" cols="20"></textarea>. <br>
</div>
<br>
<h2>Grade</h2>
<button id="button_13">Grade</button> <br>
&nbsp;***** ***** ***** ***** *****&nbsp; <br>
<span id="comment"></span> <br>
&nbsp;***** ***** ***** ***** ***** <br>
<br>
<h2>Submission</h2>
<textarea id="output" rows="4" cols="40"></textarea> <br>
&bull; Please do not modify the content in the above text field: use the "Grade" button to update. <br>
<form name="submit_form">
<input type="hidden" id="submit_id" name="id">
<input type="hidden" id="submit_n" name="n">
<input type="hidden" id="submit_a1" name="a1">
<input type="hidden" id="submit_a2" name="a2">
<input type="hidden" id="submit_a3" name="a3">
<input type="hidden" id="submit_a4" name="a4">
<input type="hidden" id="submit_a5" name="a5">
<input type="hidden" id="submit_a6" name="a6">
<input type="hidden" id="submit_a7" name="a7">
<input type="hidden" id="submit_a8" name="a8">
<input type="hidden" id="submit_a9" name="a9">
<input type="hidden" id="submit_a10" name="a10">
<input type="hidden" id="submit_g1" name="g1">
<input type="hidden" id="submit_g2" name="g2">
<input type="hidden" id="submit_g3" name="g3">
<input type="hidden" id="submit_g4" name="g4">
<input type="hidden" id="submit_g5" name="g5">
<input type="hidden" id="submit_g6" name="g6">
<input type="hidden" id="submit_g7" name="g7">
<input type="hidden" id="submit_g8" name="g8">
<input type="hidden" id="submit_g9" name="g9">
<input type="hidden" id="submit_g10" name="g10">
<input type="hidden" id="submit_g" name="g">
<input type="checkbox" id="submit_check"> <label for="submit_check">Check the box to confirm submission.</label><br>
<button type="submit">Submit</button>
<span id="submit_message"></span>
</form>
 <br>
&bull; Please wait for the message "Successful submission." to appear after the "Submit" button. If there is an error message or no message appears after 10 seconds, please save the text in the above text box to a file using the button <button id="button_14">Download</button> or copy and paste it into a file yourself <button id="button_15">Copy</button> and submit it to Canvas Assignment M8. You could submit multiple times (but please do not submit too often): only the latest submission will be counted. <br>
&bull; You could load your answers from the text (or txt file) in the text box below using the button <button id="button_16">Load</button>. The first two lines should be "##m: 8" and "##id: your id", and the format of the remaining lines should be "##1: your answer to question 1" newline "##2: your answer to question 2", etc. Please make sure that your answers are loaded correctly before submitting them. <br>
<input type="file", id="loading_input", accept='text/plain'><br><textarea id="loading"></textarea> <br>
<br>
<h2>Solutions</h2>
&bull; Some of the past exams referenced in the Hints can be found on Professor Zhu's and Professor Dyer's websites: <a href="http://pages.cs.wisc.edu/~jerryzhu/cs540.html" target="_blank">Link</a> and <a href="http://pages.cs.wisc.edu/~dyer/cs540/exams-toc.html" target="_blank">Link</a>. <br>
&bull; Some of the questions are from last year, and I recorded videos going through them, the links are at the bottom of the Week 1 to Week 8 pages, for example: <a href="CS540S21W4.htm">W4</a> and <a href="CS540S21W8.htm">W8</a>. <br>
&bull; The links to the solutions the students volunteered to share on Piazza will be collected in this post around the official deadline: <a href="https://piazza.com/class/knq5sbwwzno2t0?cid=7" target="_blank">Link</a>. <br>
<script type="module"> 
import {enter_button, gen_questions, math_eval_page, set_state, clean_paper, grade, submit_file, download_file, clipboard, load_ans_page, read_file} from "./YJS.js";
document.getElementById("button_0").onclick = () => gen_questions();
enter_button("@id", "button_0");
document.getElementById("button_1").onclick = () => window.print();
document.getElementById("button_2").onclick = () => math_eval_page("@answer_1", "@calc_1");
enter_button("@answer_1", "button_2");
document.getElementById("button_3").onclick = () => math_eval_page("@answer_2", "@calc_2");
enter_button("@answer_2", "button_3");
document.getElementById("button_4").onclick = () => math_eval_page("@answer_3", "@calc_3");
enter_button("@answer_3", "button_4");
document.getElementById("button_5").onclick = () => math_eval_page("@answer_4", "@calc_4");
enter_button("@answer_4", "button_5");
document.getElementById("button_6").onclick = () => set_state("auto_edge", "canvas_5");
document.getElementById("button_7").onclick = () => set_state("erase_edge", "canvas_5");
document.getElementById("button_8").onclick = () => clean_paper("node", "canvas_5");
document.getElementById("button_9").onclick = () => set_state("auto_edge", "canvas_6");
document.getElementById("button_10").onclick = () => set_state("erase_edge", "canvas_6");
document.getElementById("button_11").onclick = () => clean_paper("node", "canvas_6");
document.getElementById("button_12").onclick = () => math_eval_page("@answer_9", "@calc_9");
enter_button("@answer_9", "button_12");
document.getElementById("button_13").onclick = () => grade();
submit_file("submit_form", "https://script.google.com/macros/s/AKfycbwKWT0ld1c6cF_61mSENhmdgdmWSGS0N_oJQ9A2LB-p3jSd16ZAeOLfLQh6lB78O7AU/exec", "@submit_message", "@submit_check", "@submit_id");
document.getElementById("button_14").onclick = () => download_file("@output", "M8");
document.getElementById("button_15").onclick = () => clipboard("@output");
document.getElementById("button_16").onclick = () => load_ans_page("@loading");
document.getElementById("loading_input").onchange = () => read_file(event, "loading");
</script><br>
<br>
<br>
<br>
<br>
<font color="grey" size = 2> Last Updated: July 23, 2021 at 6:07 PM</font><br>
<br>
</div>
<div id="primarynavarea">
<ul id="primarynav">
<li><a href="CS540S21.htm"><span class="secondcolor"><strong>Home</strong></span></a></li>
<ul id="primarynavsub">
<li><a href="CS540S21W1.htm">Week 1 </a></li>
<li><a href="CS540S21W2.htm">Week 2 </a></li>
<li><a href="CS540S21W3.htm">Week 3 </a></li>
<li><a href="CS540S21W5.htm">Week 5 </a></li>
<li><a href="CS540S21W6.htm">Week 6 </a></li>
<li><a href="CS540S21W7.htm">Week 7 </a></li>
</ul>
<li><a href="CS540S21W4.htm">Midterm </a></li>
<li><a href="CS540S21W8.htm">Final </a></li>
</ul>
</div>
<div id="siteInfo">&nbsp;<img style="width: 191px; height: 65px;" alt="" src="image003.png">
</div>
</body>
</html>

